<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 col-lg-6">
      <div [froalaEditor]="froalaOptions" [(froalaModel)]="contentProblem"></div>
    </div>
    <div class="col-md-12 col-lg-6" *ngIf="!hideCode">
      <button class="btn-work btn-run" [disabled]="isSubmiting" (click)="sendSubmission('run')">
          <span *ngIf="!loading">▶</span>
          <div *ngIf="loading" class="sk-circle">
              <div class="sk-circle1 sk-child"></div>
              <div class="sk-circle2 sk-child"></div>
              <div class="sk-circle3 sk-child"></div>
              <div class="sk-circle4 sk-child"></div>
              <div class="sk-circle5 sk-child"></div>
              <div class="sk-circle6 sk-child"></div>
              <div class="sk-circle7 sk-child"></div>
              <div class="sk-circle8 sk-child"></div>
              <div class="sk-circle9 sk-child"></div>
              <div class="sk-circle10 sk-child"></div>
              <div class="sk-circle11 sk-child"></div>
              <div class="sk-circle12 sk-child"></div>
            </div>
      </button>
      <div *ngIf="!loading && submission.response" style="display: inline-block;vertical-align: middle;">
        <span [hidden]="submission.response.status.id == 3 || submission.response.status.id == 4" class="warning">⚠ 
          <span style="font-size:16px;vertical-align: middle; font-weight: 100">{{submission.response.status.description}}</span>
        </span>  
        <span [hidden]="submission.response.status.id != 3 && submission.response.status.id != 4" class="check">✓ </span>  
      </div>

      <select style="margin-left: auto;margin-bottom: 10px;background: #fff;float: right;"
        (change)="changeLanguage($event.target.value)">
        <option [value]="language.id" *ngFor="let language of languages">{{language.name}}</option>
      </select>
      <ngx-monaco-editor style="height:500px!important" class="my-code-editor" [options]="monacoOptions"
        [(ngModel)]="submission.source_code" (onInit)="ngEditInit($event)"></ngx-monaco-editor>
      <div class="result">
        <span> Input</span>
        <textarea cols="30" rows="10" class="input mb-3" [(ngModel)]="submission.test_stdin"></textarea>
      </div>
      <div class="result">
        <span>Output</span>
        <div>
          <textarea cols="30" rows="10" class="input" readonly>
                {{(submission.response && submission.response.typeSend == 'send')? submission.response.status.description+'/\n/g': ""}}
                {{(submission.response && submission.response.typeSend == 'run' && !submission.response.messageErrorFinal )? submission.response.stdout+'\n': "" }}
                {{(submission.response && submission.response.typeSend == 'run' && submission.response.messageErrorFinal )?  submission.response.messageErrorFinal+'\n': "" }}
            </textarea>
          <!-- <h3 *ngIf="submission.response.typeSend == 'send'">{{submission.response.status.description}}</h3> -->
          <!--        <div *ngIf="submission.response.typeSend == 'run'">
                <h4 *ngIf="!submission.response.messageErrorFinal">
                  {{submission.response.stdout}}
                </h4>
                <h4 *ngIf="submission.response.messageErrorFinal">
                  Error de compilación:
                  {{submission.response.messageErrorFinal}}
                </h4>
              </div> -->
        </div>
      </div>
      <button class="btn-work" [disabled]="isSubmiting" (click)="sendSubmission('send')">Enviar</button>
    </div>
  </div>
</div>